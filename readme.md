# 中国科学技术大学选课系统抢课脚本

## 功能概述

本脚本是一个针对中国科学技术大学选课系统的自动化抢课工具，主要功能包括：

- 定时启动抢课功能（可设置精确到秒的启动时间）
- 自动登录选课系统（通过Cookies）
- 循环尝试选课直至成功或达到最大尝试次数
- 实时反馈选课状态和结果

## 环境要求

- Python 3.6+
- 依赖库：`requests`

## 安装依赖

bash

```
pip install requests
```

## 配置说明

本脚本共需配置两个参数cookies以及student_id

在使用前，请修改`config.py`文件中的以下配置项：

其中cookies可直接复制  方法如下

```
1、进入选课界面
2、按下F12并点击网络
3、任意点击一个请求（如std-count）然后点击标头
4、请求头中有个Cookie将对应内容复制到config的cookies中
#注意每个人cookies字段里面的参数可以都不一样，比如可能没有session，没有的字段就删掉就行
```

![image-20250714161348338](https://s2.loli.net/2025/07/14/mOjvprdkLUZ6CnI.png)

其中 'student_id': 你的学号对应的id,为选课界面中的第一个数字

![image-20250714161646617](https://s2.loli.net/2025/07/14/u4wCSeZtMGyr7ap.png)

```python
CONFIG = {
    'cookies': {
        'sduuid': '你的sduuid',
        'SESSION': '你的SESSION',
        'fine_auth_token': '你的fine_auth_token',
        'fine_remember_login': '-1',
        'SVRNAME': 'teacher1'
    },
    'student_id': 你的学号对应的id,
    'lesson_code': "要抢的课程号",  # 例如"001108.01"
    'start_time': "2023-12-01 08:00:00",  # 定时启动时间
    'retry_interval': 0.5,  # 重试间隔(秒)
    'max_retries': 1000  # 最大重试次数
}
```

### 如何获取Cookies

1. 登录[教务处系统](https://jw.ustc.edu.cn/)
2. 按F12打开开发者工具
3. 进入"Application" -> "Cookies"
4. 复制对应的cookie值

## 使用说明

1. 配置好`config.py`文件
2. 运行程序：

bash

```
python course_selector.py
```

1. 程序运行后会有如下提示：

```
抢课程序启动...
等待到启动时间: 2023-12-01 08:00:00 (还剩3600.0秒)
当前选课轮次: 2023年秋季学期选课
尝试第 1 次抢课...
找到课程: 数学实验 (ID: 167528)
选课失败: 该课程不在可选时间范围内，不允许选课, 等待重试...
尝试第 2 次抢课...
...
🎉 抢课成功! 🎉
抢课任务完成!
```

## 注意事项

1. 请合理设置`retry_interval`，过于频繁的请求可能导致IP被封禁
2. 确保计算机时间与网络时间同步，否则定时功能可能不准确
3. 本脚本仅限个人学习使用，请勿用于商业用途
4. 过度使用自动化脚本可能违反学校规定，请谨慎使用

## 常见问题

**Q: 如何知道课程是否可选？**
A: 程序会显示"找到课程: 课程名"表示课程可选，显示"未找到课程"表示不可选

**Q: 抢课失败后如何继续尝试？**
A: 程序会自动重试，直到成功或达到最大重试次数

**Q: 如何修改抢课课程？**
A: 修改CONFIG中的`lesson_code`为新的课程号即可

## 免责声明

本脚本仅供技术学习交流使用，作者不对使用此脚本造成的任何后果负责。请遵守学校相关规定，合理使用。